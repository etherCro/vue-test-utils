(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{366:function(t,e,r){"use strict";r.r(e);var s=r(0),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[t._m(0),t._v(" "),r("p",[t._v("Test runner — это программа, которая запускает тесты.")]),t._v(" "),t._m(1),t._v(" "),r("p",[t._v("Есть несколько вещей, которые следует учитывать при выборе программы запуска тестов: набор функций, производительность и поддержка предварительной компиляции однофайловых компонентов. После тщательного сравнения существующих библиотек мы рекомендуем два варианта конфигурации:")]),t._v(" "),r("ul",[r("li",[r("p",[r("a",{attrs:{href:"https://jestjs.io/docs/en/getting-started.html#content",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jest"),r("OutboundLink")],1),t._v(" наиболее функциональный способ запуска тестов. Он меньше всех требует конфигурирования, устанавливает JSDOM по умолчанию, предоставляет встроенные проверки (assertions) и имеет отличный интерфейс для работы через командную строку. Тем не менее, вам понадобится пре-процессор, чтобы иметь возможность импортировать однофайловые компоненты в свои тесты. Мы создали пре-процессор "),r("code",[t._v("vue-jest")]),t._v(", который может обрабатывать наиболее распространённые функции однофайловых компонентов, но в настоящее время он не имеет 100% паритетности функций с "),r("code",[t._v("vue-loader")]),t._v(".")])]),t._v(" "),r("li",[r("p",[r("a",{attrs:{href:"https://github.com/zinserjan/mocha-webpack",target:"_blank",rel:"noopener noreferrer"}},[t._v("mocha-webpack"),r("OutboundLink")],1),t._v(" — это обёртка вокруг webpack + Mocha, но с более оптимизированным интерфейсом и режимом отслеживания. Преимущества этой конфигурации в том, что мы можем получить полную поддержку однофайловых компонентов с помощью webpack + "),r("code",[t._v("vue-loader")]),t._v(", но для этого требуется больше настройки.")])])]),t._v(" "),t._m(2),t._v(" "),r("p",[r("code",[t._v("vue-test-utils")]),t._v(" полагается на браузерное окружение. Технически вы можете запустить его в реальном браузере, но это не рекомендуется из-за сложности запуска реальных браузеров на разных платформах. Вместо этого мы рекомендуем запускать тесты в Node с виртуальным браузерным окружением, реализуемым с помощью "),r("a",{attrs:{href:"https://github.com/tmpvar/jsdom",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSDOM"),r("OutboundLink")],1),t._v(".")]),t._v(" "),r("p",[t._v("Jest настраивает JSDOM автоматически. Для других программ запуска тестов вы можете вручную настроить JSDOM для тестов с помощью "),r("a",{attrs:{href:"https://github.com/rstacruz/jsdom-global",target:"_blank",rel:"noopener noreferrer"}},[t._v("jsdom-global"),r("OutboundLink")],1),t._v(" в записи для ваших тестов:")]),t._v(" "),t._m(3),r("hr"),t._v(" "),t._m(4),t._m(5),t._v(" "),r("p",[t._v("Однофайловые компоненты Vue требуют предварительной компиляции, прежде чем могут быть запущены в Node или в браузере. Существует два рекомендуемых способа выполнения компиляции: с пре-процессором Jest, или непосредственно с помощью webpack.")]),t._v(" "),t._m(6),t._v(" "),r("p",[t._v("Изучите следующие руководства по вариантам настройки:")]),t._v(" "),r("ul",[r("li",[r("router-link",{attrs:{to:"./testing-single-file-components-with-jest.html"}},[t._v("Тестирование однофайловых компонентов с Jest")])],1),t._v(" "),r("li",[r("router-link",{attrs:{to:"./testing-single-file-components-with-mocha-webpack.html"}},[t._v("Тестирование однофайловых компонентов с Mocha + webpack")])],1)]),t._v(" "),t._m(7),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/eddyerburgh/vue-unit-test-perf-comparison",target:"_blank",rel:"noopener noreferrer"}},[t._v("Сравнение производительности программ для запуска тестов"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-test-utils-jest-example",target:"_blank",rel:"noopener noreferrer"}},[t._v("Пример проекта с Jest"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-test-utils-mocha-webpack-example",target:"_blank",rel:"noopener noreferrer"}},[t._v("Пример проекта с Mocha"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/eddyerburgh/vue-test-utils-tape-example",target:"_blank",rel:"noopener noreferrer"}},[t._v("Пример проекта с tape"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/eddyerburgh/vue-test-utils-ava-example",target:"_blank",rel:"noopener noreferrer"}},[t._v("Пример проекта с AVA"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/egoist/tyu",target:"_blank",rel:"noopener noreferrer"}},[t._v("tyu — Восхитительное веб-тестирование от egoist"),r("OutboundLink")],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"чем-запускать-тесты"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#чем-запускать-тесты"}},[this._v("#")]),this._v(" Чем запускать тесты")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Есть много популярных программ запуска тестов для JavaScript, и "),e("code",[this._v("vue-test-utils")]),this._v(" работает с любой из них. Нет зависимости от используемого test runner.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"браузерное-окружение"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#браузерное-окружение"}},[this._v("#")]),this._v(" Браузерное окружение")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev jsdom jsdom-global\n")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"language-js extra-class"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// в настройке теста / entry")]),t._v("\n"),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jsdom-global'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"тестирование-однофайnовых-компонентов"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#тестирование-однофайnовых-компонентов"}},[this._v("#")]),this._v(" Тестирование однофайловых компонентов")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Пре-процессор "),e("code",[this._v("vue-jest")]),this._v(" поддерживает базовую функциональность однофайловых компонентов, но в настоящее время не обрабатывает блоки стилей или пользовательские блоки, которые поддерживаются только в "),e("code",[this._v("vue-loader")]),this._v(". Если вы полагаетесь на эти функции или другие конфигурации, специфичные для webpack, вам нужно будет использовать связку webpack + "),e("code",[this._v("vue-loader")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"допоnнитеnьные-ресурсы"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#допоnнитеnьные-ресурсы"}},[this._v("#")]),this._v(" Дополнительные ресурсы")])}],!1,null,null,null);e.default=a.exports}}]);